{"version":3,"file":"static/js/674.c1aea083.chunk.js","mappings":"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","sources":["api.js","webpack://react-homework-template/./src/components/MoviesList/MovieList.module.css?dfe6","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'b62621a55fc4b114d29794b8b2ba9e8c';\n\nexport const fetchTrendingList = async () => {\n  const response = await axios.get(`/trending/all/day?api_key=${API_KEY}`);\n  const { results } = response.data;\n  return results;\n};\n\nexport const fetchMoviesBySearch = async query => {\n  const response = await axios.get(\n    `/search/movie?query=${query}&api_key=${API_KEY}`\n  );\n  const { results } = response.data;\n  return results;\n};\n\nexport const fetchMovieById = async movieId => {\n  const response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  const { cast } = response.data;\n  return cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  const { results } = response.data;\n  return results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movies_list\":\"MovieList_movies_list__+ibTm\",\"movies_list_container\":\"MovieList_movies_list_container__E3mL8\",\"trending_movie_title\":\"MovieList_trending_movie_title__Gc4ve\"};","import React from 'react';\nimport css from './MovieList.module.css';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst MoviesList = ({ items }) => {\n  const defaultImage =\n    'https://via.placeholder.com/250x375.png?text=Image+Not+Found';\n  const location = useLocation();\n\n  return (\n    <ul className={css.movies_list}>\n      {items.map(({ poster_path, name, title, id }) => (\n        <li key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {\n              <div className={css.movies_list_container}>\n                <img\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n                      : defaultImage\n                  }\n                  alt={name || title}\n                  width={250}\n                  height={375}\n                />\n                <p className={css.trending_movie_title}>{name || title}</p>\n              </div>\n            }\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"button_search\":\"SearchForm_button_search__n+eHT\",\"input\":\"SearchForm_input__HOxJo\"};","import { useState } from 'react';\nimport css from './SearchForm.module.css';\nimport { useSearchParams } from 'react-router-dom';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleChange = evt => {\n    if (!evt.target.value) {\n      setSearchParams({});\n    }\n    setQuery(evt.target.value.toLowerCase());\n  };\n\n  const handleSubmitForm = evt => {\n    evt.preventDefault();\n\n    // if (query.trim() === '') {\n    //   window.alert('Type something in the search field !');\n    //   return;\n    // }\n    if (!query) return setSearchParams({});\n\n    setSearchParams({ search: query });\n    // onSubmit({ query: searchParams.get('search') } ?? '');\n    onSubmit({ query: searchParams.get('search') });\n    // setQuery('');\n  };\n  // !щоб очищувалися паремтри в урлі - але перенсла в handleChange\n  // useEffect(() => {\n  //   if (!query) {\n  //     setSearchParams({});\n  //   }\n  // }, [query, setSearchParams]);\n\n  // ! щоб залишалося в пошуку то. що ми вводимо. і показувалося, коли повертаємося із вибраного фільма на сторінку\n\n  // useEffect(() => {\n  //   const value = searchParams.get('search');\n  //   if (value) {\n  //     setQuery(value);\n  //   }\n  // }, [searchParams]);\n\n  return (\n    <form className={css.form} onSubmit={handleSubmitForm}>\n      <input\n        className={css.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={handleChange}\n        // value={searchParams.get('search')}\n        value={query}\n      />\n      <button type=\"submit\" className={css.button_search}>\n        <span className=\"button-label\">Search</span>\n      </button>\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import { useEffect, useState } from 'react';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport { fetchMoviesBySearch } from 'api';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { useSearchParams } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\n\nconst MoviesPage = () => {\n  const [nameMovie, setNameMovie] = useState('');\n\n  const [loading, setLoading] = useState(false);\n  const [movieItems, setMovieItems] = useState([]);\n\n  const [searchParams] = useSearchParams();\n\n  // const location = useLocation();\n  // console.log(location);\n\n  useEffect(() => {\n    const value = searchParams.get('search');\n    if (value) {\n      setNameMovie(value);\n    }\n  }, [searchParams]);\n\n  const handleSearchFormSubmit = ({ query }) => {\n    if (nameMovie === query) {\n      return;\n    }\n    setNameMovie(query);\n  };\n\n  useEffect(() => {\n    // if (!nameMovie) {\n    //   window.alert('введіть щось в поле пошуку ');\n    //   return;\n    // }\n\n    async function getSearchMovies() {\n      try {\n        setLoading(true);\n        const searchMovies = await fetchMoviesBySearch(nameMovie);\n        setMovieItems(searchMovies);\n      } catch (error) {\n        window.alert(\n          'Oops! Something went wrong! Please try reloading this page!'\n        );\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    getSearchMovies();\n  }, [nameMovie]);\n\n  return (\n    <>\n      {loading && <Loader />}\n\n      <SearchForm onSubmit={handleSearchFormSubmit} />\n\n      {nameMovie && <MoviesList items={movieItems} />}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["axios","API_KEY","fetchTrendingList","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","results","_context","prev","next","concat","sent","data","abrupt","stop","apply","arguments","fetchMoviesBySearch","_ref2","_callee2","query","_context2","_x","fetchMovieById","_ref3","_callee3","movieId","_context3","_x2","fetchMovieCast","_ref4","_callee4","cast","_context4","_x3","fetchMovieReviews","_ref5","_callee5","_context5","_x4","items","location","useLocation","_jsx","className","css","children","map","poster_path","name","title","id","Link","to","state","from","_jsxs","src","alt","width","height","onSubmit","_useState","useState","_useState2","_slicedToArray","setQuery","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","evt","preventDefault","search","get","type","autoComplete","autoFocus","placeholder","onChange","target","value","toLowerCase","nameMovie","setNameMovie","_useState3","_useState4","loading","setLoading","_useState5","_useState6","movieItems","setMovieItems","useEffect","_getSearchMovies","searchMovies","t0","window","alert","finish","getSearchMovies","_Fragment","Loader","SearchForm","MoviesList"],"sourceRoot":""}